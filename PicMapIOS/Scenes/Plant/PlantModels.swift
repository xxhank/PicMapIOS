//
//  PlantModels.swift
//  PicMapIOS
//
//  Created by wangchaojs02 on 16/1/31.
//  Copyright (c) 2016å¹´ wangchaojs02. All rights reserved.
//
//  This file was generated by the Clean Swift Xcode Templates so you can apply
//  clean architecture to your iOS and Mac projects, see http://clean-swift.com
//

import UIKit
import CoreLocation
import MapKit
import ObjectMapper

struct PlantRequest
{
}

struct PlantResponse
{
}

struct PlantViewModel
{
}

// MARK: - FormatLocation
struct Plant_FormatLocation_Requset
{
    var location: CLLocation
}

struct Plant_FormatLocation_Response
{
    var information: [NSObject : AnyObject]
}

struct LocationViewModel
{
    var city: String?
    var street: String?
    var location: String?
}

// MARK: - FetchSightsData
struct Plant_FetchSightList_Request
{
    var region: MKCoordinateRegion;
}

struct Plant_FetchSightList_Response
{
    var sightList: [[String: AnyObject]]
}

class SightViewModel: Mappable {
    var coordinate: CLLocationCoordinate2D?
    var thumbnail: String?
    var imageCount: UInt?

    required init?(_ map: Map) {
    }

    func mapping(map: Map) -> () {
        typealias CoordinateDictionary = [String: AnyObject]

        let transform = TransformOf < CLLocationCoordinate2D, CoordinateDictionary >(fromJSON: { (dictionary) -> CLLocationCoordinate2D? in
            if let dictionary = dictionary,
                let latitude = dictionary["lat"] as! Double?,
                let longitude = dictionary["lng"] as! Double? {
                    return CLLocationCoordinate2DMake(latitude, longitude)
                }
            return nil
        }, toJSON: { (coordinate) -> CoordinateDictionary? in
            if let coordinate = coordinate {
                return ["lat" : "\(coordinate.latitude)",
                    "lng": "\(coordinate.longitude)"]
            }
            return nil
        })

        coordinate <- (map["coordinate"], transform)
        thumbnail <- map["photo"]
        imageCount <- map["count"]
    }

    class func viewModelFromJSONString(JSONString: String) -> SightViewModel? {
        return Mapper<SightViewModel>().map(JSONString)
    }

    class func viewModelFromDictonary(dictonary: [String: AnyObject]) -> SightViewModel? {
        return Mapper<SightViewModel>().map(dictonary)
    }
}

struct SightListViewModel
{
    var sightList: [SightViewModel]
}
